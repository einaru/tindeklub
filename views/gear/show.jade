extends ../layouts/default

block main
	article.gear
		header
			.container
				h1= gear.name
				h2= gear.manufacturer
				nav
					a(href="#details") Details
					|
					a(href="#tech-specs") Tech specs
					if gear.images.length
						|
						a(href="#images") Images
					|
					a(href="#usage-log") Usage log

		.block.light
			.container
				include includes/details
				include includes/tech-specs
		.block.dark
			.container
				include includes/img-gallery
				include includes/usage-log

		footer
			.container
				#actions
					a(href="#{'/gear/' + gear._id + '/edit'}") Edit #{gear.category}
					- var action = "/gear/" + gear._id
					if gear.state != "retired"
						form(action=action, method="post")
							input(type="hidden", name="_method", value="put")
							input(type="hidden", name="state", value="retired")
							input(type="submit", data-action="retire", value="Retire " + gear.category)
					form(action=action, method="post")
						input(type="hidden", name="_method", value="delete")
						input(type="submit", data-action="delete", value="Delete " + gear.category)
